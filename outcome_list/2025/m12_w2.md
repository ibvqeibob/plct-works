# Miselect CSR (0x350) implementation summary

**Issue**：#775
**PR**：https://github.com/riscv/sail-riscv/pull/1424
**分支**：`miselect-msb-clear`

## 改动点
### 1) 新增寄存器状态：`miselect`
在 `model/core/sys_regs.sail` 中新增：
- `register miselect : xlenbits`

用于在模型里保存 `miselect` CSR 的值（此前模型里没有该 CSR 的状态）。

### 2) 接入 CSR 分发（CSR map + read/write）
在 `model/exceptions/sys_exceptions.sail` 中：
- 增加 CSR 名称映射：`0x350 <-> "miselect"`
- 增加 `is_CSR_accessible(0x350, ...)`
- 增加 `read_CSR(0x350)` / `write_CSR(0x350, value)`

使 `csrr*` 指令访问 CSR `0x350` 时，模型能够正确识别并读写。

### 3) 对 reserved 值（MSB=0）给出确定性默认行为
在 `model/exceptions/sys_exceptions.sail` 中实现：
- `get_miselect()`
- `set_miselect(value)`
- `legalize_miselect(old, new)`

当前默认策略：
- 当写入 `miselect` 的新值 `new` 满足 **MSB=0**（reserved）时：**保持旧值**（WARL-like / “sensible” 行为）
- 否则：接受新值

该行为保证了模型在遇到 reserved 值时不会崩溃，也不会产生不确定行为。

